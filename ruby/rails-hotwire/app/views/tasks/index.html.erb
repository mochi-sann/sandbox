<% content_for :title, "TODOリスト" %>

<% endpoints = {
     index: tasks_path(format: :json),
     create: tasks_path(format: :json),
     update: task_path("__ID__", format: :json),
     destroy: task_path("__ID__", format: :json),
     toggle: toggle_task_path("__ID__", format: :json)
   } %>
<% initial_state = {
     status: @status,
     query: @query,
     page: @page
   } %>

<div
  data-controller="task-list"
  data-task-list-endpoints-value="<%= json_escape(endpoints.to_json) %>"
  data-task-list-initial-state-value="<%= json_escape(initial_state.to_json) %>"
>
  <div class="text-center py-5">
    <div class="spinner-border text-secondary" role="status">
      <span class="visually-hidden">読み込み中...</span>
    </div>
  </div>
</div>
